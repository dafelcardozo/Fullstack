<!DOCTYPE html>
<html ng-app="myApp"  ng-controller="myCtrl">
<head>
  <meta charset="utf-8">
  <title>Scheduled tasks</title>
  <style media="screen">
  body {
    padding-top: 50px;
  }
  .starter-template {
    padding: 40px 15px;
    text-align: center;
  }
  </style>
  <link rel="stylesheet" href="js/bootstrap/dist/css/bootstrap.css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="js/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />
  <link rel="stylesheet" href="js/angular-bootstrap/ui-bootstrap-csp.css" media="screen" title="no title" charset="utf-8">
  <script src="js/jquery/dist/jquery.js" charset="utf-8"></script>
  <script src="js/bootstrap/dist/js/bootstrap.js" charset="utf-8"></script>
  <script src="js/angular/angular.js" charset="utf-8"></script>
  <script src="js/angular-animate/angular-animate.js"></script>
  <script src="js/angular-bootstrap/ui-bootstrap.js" charset="utf-8"></script>
  <script src="js/angular-bootstrap/ui-bootstrap-tpls.js" charset="utf-8"></script>


  <script src="js/moment/min/moment.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="/js/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
</head>
<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Rokk3rLabs</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Scheduled tasks</a></li>
          <li><a href="#about">Users</a></li>
          <li><a href="#contact">Contact me</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>
  <div class="container">
    <div class="starter-template">
      <h2>You have overdue tasks !</h2>
      <uib-alert ng-repeat="t in overdue" type="danger" close="closeAlert($index)">
         Task {{t.name}} was due <i>{{formatFromNow(t.dueDate)}}</i>, and its priority is  {{t.priority}}
       </uib-alert>
      <span ng-hide="overdue">No overdue tasks... don't get too overconfident !</span>


      <div class="panel-group">
        <div class="panel panel-primary">
          <div class="panel-heading">
            Pending tasks
            <button type="button" name="button" data-toggle="modal" data-target="#myModal" style="float:right"  class="btn btn-success btn-lg">
               <span class="glyphicon glyphicon-plus"></span>
            </button>
          </div>
          <div class="panel-body">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th ng-repeat="h in headers track by $index" ng-click="sort($index)">
                    {{h}}
                    <span class="glyphicon glyphicon-sort" ng-show="fields[$index] != sortBy" style="float:right"></span>
                    <span class="glyphicon glyphicon-sort-by-attributes" ng-show="order == 1 && fields[$index] == sortBy" style="float:right"></span>
                    <span class="glyphicon glyphicon-sort-by-attributes-alt" ng-show="order == -1  && fields[$index] == sortBy" style="float:right"></span>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="t in pending">
                  <td>{{t.name}}</td>
                  <td>{{t.priority}}</td>
                  <td>{{formatDate(t.dueDate)}}</td>
                  <td>
                    <button type="button" ng-click="delete(t)"  class="btn btn-primary"  >
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <button ng-click="complete(t)"   class="btn btn-primary" >
                      <span class="glyphicon glyphicon-ok"></span>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="alert alert-success" ng-show="created">
        <strong>Task created!</strong>
      </div>
    </div>
  </div><!-- /.container -->
  <!-- Modal -->
  <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add a task !</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" ng-model="name">
          </div>
          <div class="form-group">
            <label  for="priority">Priority:</label>
            <div >
              <select class="form-control" ng-model="priority">
                <option>Inmediate</option>
                <option>High</option>
                <option>Low</option>
              </select>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" ng-model="dueDate"/>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="createTask()">OK</button>
        </div>
      </div>
    </div>
  </div>
  <script src="js/app.js" charset="utf-8"></script>

</script>
</body>
</html>
